<div id="refactor-section" class="mt-8">
    <h2 class="text-2xl font-bold text-gray-50 mb-4">AI Code Refactor & Optimization</h2>
    <p class="text-sm text-gray-400 mb-4">Select a file from the "Code Analyzer" tab first, or paste your code below.</p>

    <label for="refactor-file-path" class="block text-sm font-medium text-purple-200 mb-2">Selected File:</label>
    <input type="text" id="refactor-file-path" class="w-full px-4 py-2 text-gray-50 bg-slate-800/50 border border-slate-600 rounded-lg mb-4 cursor-not-allowed" readonly placeholder="No file selected">

    <label for="original-code-input" class="block text-sm font-medium text-purple-200 mb-2">Original Code:</label>
    <textarea id="original-code-input" class="w-full h-64 px-4 py-2 text-gray-50 bg-slate-800/50 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 mb-4 font-mono" placeholder="Paste your code here, or select a file from Module 2."></textarea>

    <label for="refactor-instruction-input" class="block text-sm font-medium text-purple-200 mb-2">Refactoring Instruction:</label>
    <input type="text" id="refactor-instruction-input" class="w-full px-4 py-2 text-gray-50 bg-slate-800/50 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 mb-4" placeholder="e.g., 'Optimize for performance', 'Make more readable', 'Convert to ES6'">

    <button id="refactor-code-btn" class="w-full text-white font-semibold px-6 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 focus:ring-offset-slate-900 btn-animated-glow mb-4">
        Refactor Code âœ¨
    </button>

    <div id="refactor-loading-spinner" class="hidden text-center py-6">
        <div class="lds-dual-ring"></div>
        <p class="mt-4 text-gray-400 font-medium">AI is refactoring the code...</p>
    </div>

    <div id="refactored-code-container" class="hidden mt-6">
        <div class="flex flex-col md:flex-row justify-between md:items-center mb-4 gap-4">
            <h3 class="text-xl font-bold text-gray-50">Refactored Code</h3>
            <button id="copy-refactored-btn" class="bg-slate-700 text-gray-200 font-semibold px-4 py-2 rounded-lg hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 transition-all duration-200 w-full md:w-auto">Copy Refactored Code</button>
        </div>
        <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-4">
            <pre><code id="refactored-code-output" class="language-javascript"></code></pre>
        </div>
    </div>
</div>
